# 📺 板块1开场动画调整说明

## ✅ 调整完成

已按照您的要求调整了板块1的开场动画顺序：**先展示全景图，再展示聚焦图**。

---

## 🎬 新的动画流程（5个阶段）

### 阶段1：欢迎屏（0-3秒）
- 显示"深汕特别合作区"标题
- 加载进度条从0%到100%
- 深色渐变背景

### 阶段2：全景图展示（3-6秒）⭐ **新增**
- **全屏展示** `bg-main.jpg` 全景图
- 图片从1.2倍缓慢缩放到1倍（Ken Burns效果）
- 中央显示标题：
  - "深汕特别合作区"
  - "山海新城·产业高地"
- 标题从下方淡入，带阴影效果
- **持续3秒**

### 阶段3：3D魔方轮播（6-15秒）
- 展示3张**聚焦图**：
  1. 比亚迪深圳号 - 出厂即出海
  2. 深汕比亚迪二期 - 高速建设
  3. 小漠国际物流港 - 5分钟极速集港
- 3D Cube魔方特效
- 自动轮播，每张2.5秒
- **持续9秒**

### 阶段4：缩小+按钮（15-17秒）
- 魔方轮播缩小至40%，移动到屏幕上方
- "进入页面"按钮从下方弹出
- 按钮带呼吸动画效果
- 等待用户点击

### 阶段5：内容展示（点击后）
- 显示完整页面内容
- 字幕打字机效果
- 小标题逐条展示
- 地标轮播图（Coverflow效果）

---

## 🎨 关键视觉效果

### 全景图阶段（阶段2）

**图片动画**：
```scss
@keyframes panoramaZoom {
  0% {
    transform: scale(1.2);  // 从1.2倍开始
  }
  100% {
    transform: scale(1);    // 缩放到正常大小
  }
}
// 持续时间：3秒，缓动函数：ease-out
```

**标题动画**：
```scss
@keyframes panoramaTitleFadeIn {
  0% {
    opacity: 0;
    transform: translate(-50%, -40%);  // 从下方开始
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%);  // 移动到中央
  }
}
// 延迟0.5秒开始，持续1秒
```

**视觉效果**：
- 全景图覆盖整个屏幕
- 30%透明度的深色遮罩层
- 大号白色标题（36-64px响应式）
- 文字带阴影效果，确保在任何背景上清晰可见

---

## 📊 时间轴对比

### 调整前（4阶段）
```
0s ──────────> 3s ──────────> 12s ────> 14s ────> 点击
  欢迎屏+加载    3D魔方轮播     缩小+按钮   内容展示
```

### 调整后（5阶段）⭐
```
0s ──────> 3s ────> 6s ──────────> 15s ────> 17s ────> 点击
  欢迎屏   全景图   3D魔方轮播(聚焦图)  缩小+按钮   内容展示
  加载     展示     (3张聚焦图)
```

**总时长**：17秒（从0秒到用户点击按钮）
- 欢迎屏：3秒
- **全景图：3秒（新增）**
- 魔方轮播：9秒
- 等待点击：用户控制

---

## 🖼️ 图片资源说明

### 全景图
- **文件**: `public/images/section1/bg-main.jpg`
- **用途**: 阶段2全屏展示，阶段5背景图
- **特点**: 深汕特别合作区全景视图

### 聚焦图（3张）
1. **landmark-1.jpg** - 比亚迪深圳号
   - 聚焦：出厂即出海的汽车产品

2. **landmark-2.jpg** - 深汕比亚迪二期工程
   - 聚焦：高速建设中的产业园区

3. **landmark-3.jpg** - 小漠国际物流港
   - 聚焦：5分钟极速集港的物流设施

---

## 💻 技术实现要点

### 1. 阶段控制
```typescript
const currentStage = ref(1)  // 当前阶段：1-5

// 阶段2：全景图展示（新增）
const startStage2 = () => {
  currentStage.value = 2
  setTimeout(() => {
    startStage3()  // 3秒后进入阶段3
  }, 3000)
}

// 阶段3：3D魔方轮播
const startStage3 = () => {
  currentStage.value = 3
  setTimeout(() => {
    startStage4()  // 9秒后进入阶段4
  }, 9000)
}

// 阶段4：缩小+按钮
const startStage4 = () => {
  currentStage.value = 4
  // 显示缩小动画和进入按钮
}

// 阶段5：内容展示（用户点击触发）
const enterPage = () => {
  currentStage.value = 5
  // 打字机效果和内容展示
}
```

### 2. 层级管理（z-index）
```scss
.welcome-screen        { z-index: 10; }  // 阶段1：最高层
.panorama-stage        { z-index: 9; }   // 阶段2：全景图
.cube-carousel-stage   { z-index: 8; }   // 阶段3：魔方轮播
.shrink-stage          { z-index: 7; }   // 阶段4：缩小+按钮
.content-stage         { z-index: 6; }   // 阶段5：内容展示
```

### 3. 过渡效果
```vue
<transition name="fade">
  <div v-if="currentStage === 2" class="panorama-stage">
    <!-- 全景图内容 -->
  </div>
</transition>
```

fade过渡：0.8秒淡入淡出效果

---

## 🧪 测试验证

### 启动项目
```bash
npm run dev
```

### 测试清单

#### ✅ 阶段1测试
- [ ] 欢迎屏是否正常显示
- [ ] 加载进度条是否从0%增长到100%
- [ ] 3秒后是否自动进入阶段2

#### ✅ 阶段2测试（全景图）⭐ **重点**
- [ ] 全景图是否全屏显示
- [ ] 图片是否有缩放动画（1.2倍→1倍）
- [ ] 标题"深汕特别合作区"是否显示
- [ ] 副标题"山海新城·产业高地"是否显示
- [ ] 标题是否从下方淡入
- [ ] 文字阴影效果是否清晰
- [ ] 3秒后是否自动进入阶段3

#### ✅ 阶段3测试（魔方轮播）
- [ ] 是否显示3D Cube魔方效果
- [ ] 3张聚焦图是否依次轮播
- [ ] 每张图片的标签是否显示（比亚迪深圳号、二期工程、小漠港）
- [ ] 9秒后是否自动进入阶段4

#### ✅ 阶段4测试
- [ ] 魔方是否缩小至40%
- [ ] 魔方是否移动到上方
- [ ] "进入页面"按钮是否出现
- [ ] 按钮是否有呼吸动画
- [ ] 点击按钮是否进入阶段5

#### ✅ 阶段5测试
- [ ] 完整内容是否正常显示
- [ ] 字幕是否有打字机效果
- [ ] 小标题是否逐条展示
- [ ] 底部轮播图是否正常

### 移动端测试
使用Chrome DevTools切换设备：
- [ ] iPhone SE (375px) - 全景图标题大小是否合适
- [ ] iPhone 12 (390px) - 魔方大小是否合适
- [ ] iPad (768px) - 全景图是否全屏显示

---

## 🎯 设计意图

### 为什么要先展示全景图？

1. **宏观视角优先**
   - 先给用户整体印象（全景图）
   - 再展示具体细节（聚焦图）
   - 符合"由面到点"的视觉逻辑

2. **叙事层次分明**
   - 全景图：这是深汕特别合作区
   - 聚焦图：这里有什么（产业、物流、建设）
   - 完整内容：详细数据和介绍

3. **视觉冲击力**
   - 全景图的缩放动画营造气势
   - 大标题强化品牌印象
   - 为后续聚焦图做铺垫

---

## 📝 代码变更摘要

### 修改文件
- [src/views/Section1.vue](src/views/Section1.vue)

### 主要变更
1. **新增阶段2**：全景图展示（3-6秒）
2. **调整阶段顺序**：原阶段2→新阶段3，原阶段3→新阶段4，原阶段4→新阶段5
3. **新增样式**：
   - `.panorama-stage` - 全景图容器
   - `.panorama-image` - 全景图背景
   - `.panorama-title` - 全景图标题
4. **新增动画**：
   - `@keyframes panoramaZoom` - 图片缩放动画
   - `@keyframes panoramaTitleFadeIn` - 标题淡入动画
5. **调整z-index**：所有阶段的层级顺序

### 代码行数
- 新增约60行（HTML模板 + CSS样式 + 动画定义）
- 修改约30行（阶段控制逻辑 + z-index调整）

---

## 🚀 性能说明

### 图片加载
- 全景图在阶段1（欢迎屏）期间预加载
- 不会影响阶段2的显示速度
- CSS `background-image` 自动缓存

### 动画性能
- 使用CSS3硬件加速（`transform`）
- 不触发重排（reflow）
- 目标帧率：60fps

---

## ✅ 验收标准

完成测试后，应满足：
- ✅ 5个阶段依次流畅过渡
- ✅ 阶段2全景图全屏显示，标题清晰
- ✅ 阶段3魔方轮播展示3张聚焦图
- ✅ 总时长约17秒（到点击按钮）
- ✅ 移动端适配正常
- ✅ 无卡顿、无闪烁

---

**调整时间**: 2025年11月6日
**调整内容**: 在开场动画中新增阶段2（全景图展示），实现"先全景、后聚焦"的视觉流程
**影响范围**: 仅板块1（Section1.vue）

🎊 **现在启动项目，查看全新的开场动画效果吧！**
