# 深汕特别合作区 H5 宣传页面 - 技术方案文档

## 一、项目背景

为深汕特别合作区设计开发一个H5宣传页面，展示产业发展、城市建设和乡村振兴成果。项目要求纯前端实现，后期基本无需维护，包含大量动画效果和页面切换。

## 二、技术选型

### 核心技术栈

| 技术 | 版本 | 选型理由 |
|------|------|----------|
| Vue 3 | 最新版 | 组合式API，代码简洁，性能优秀 |
| TypeScript | 最新版 | 类型安全，降低维护成本 |
| Vite | 最新版 | 极速构建，开发体验好 |
| Vue Router 4 | 最新版 | 标准路由方案 |
| Swiper 11 | 最新版 | 成熟的全屏滑动解决方案 |
| GSAP | 最新版 | 强大的动画库，性能最优 |
| SCSS | 最新版 | CSS预处理器，样式组织清晰 |
| VueUse | 最新版 | Vue组合式工具库 |

### 不使用Element Plus的原因
- H5宣传页不需要复杂UI组件
- 减少打包体积
- 自定义样式更灵活

## 三、架构设计

### 3.1 项目结构

```
src/
├── assets/              # 静态资源
│   ├── styles/          # 全局样式
│   │   ├── variables.scss    # SCSS变量（颜色、尺寸）
│   │   ├── animations.scss   # CSS动画定义
│   │   └── global.scss       # 全局样式和重置
│   └── images/          # 打包图片资源
├── components/          # 公共组件
│   └── InterviewCard.vue     # 采访人物卡片
├── composables/         # 组合式函数（Vue3特性）
│   ├── useAnimation.ts       # GSAP动画封装
│   └── useIntersection.ts    # Intersection Observer封装
├── views/               # 页面组件（7个板块）
│   ├── HomeView.vue     # 主页面（Swiper容器）
│   ├── Section1.vue     # 板块1
│   ├── Section2.vue     # 板块2
│   ├── Section3.vue     # 板块3
│   ├── Section4.vue     # 板块4
│   ├── Section5.vue     # 板块5
│   └── Section6.vue     # 板块6
├── router/              # 路由配置
│   └── index.ts
├── types/               # TypeScript类型定义
│   └── index.ts
├── App.vue              # 根组件
└── main.ts              # 应用入口
```

### 3.2 组件设计

#### 主容器组件（HomeView.vue）
- **职责**：管理Swiper实例，包含所有板块
- **技术**：Swiper的 `direction: 'vertical'` 模式
- **特性**：
  - 鼠标滚轮控制
  - 触摸滑动
  - 分页器显示

#### 板块组件（Section1~6.vue）
- **职责**：独立的页面板块
- **设计原则**：单一职责，各板块互不依赖
- **通用特性**：
  - 全屏显示（100vh）
  - 进入动画
  - 响应式布局

#### 工具组件（InterviewCard.vue）
- **职责**：展示采访人物信息
- **可复用性**：通过props传入数据

### 3.3 组合式函数设计

#### useAnimation.ts
封装GSAP常用动画：
```typescript
export function useAnimation() {
  const fadeIn = (target, config) => { ... }
  const fadeInUp = (target, config) => { ... }
  const scaleIn = (target, config) => { ... }
  const animateNumber = (element, endValue) => { ... }
  const createTimeline = (config) => { ... }

  return { fadeIn, fadeInUp, scaleIn, animateNumber, createTimeline }
}
```

**优势**：
- 逻辑复用
- 统一动画风格
- 易于维护

#### useIntersection.ts
封装Intersection Observer API：
```typescript
export function useIntersection(
  target: Ref<Element>,
  callback: Function,
  options?: IntersectionObserverInit
) { ... }
```

**用途**：监听元素进入视口，触发动画

## 四、核心功能实现

### 4.1 全屏滑动交互

#### 技术方案：Swiper
```vue
<swiper
  :modules="[Mousewheel, Pagination]"
  :direction="'vertical'"
  :slides-per-view="1"
  :mousewheel="true"
  :pagination="{ clickable: true }"
  @slide-change="onSlideChange"
>
  <swiper-slide><Section1 /></swiper-slide>
  <!-- 其他板块 -->
</swiper>
```

#### 配置说明：
- `direction: 'vertical'` - 垂直滑动
- `mousewheel: true` - 支持鼠标滚轮
- `pagination` - 右侧分页器
- `speed: 800` - 切换速度800ms

### 4.2 动画系统

#### 动画类型
1. **页面进入动画**
   - fadeIn（淡入）
   - fadeInUp（上滑淡入）
   - scaleIn（缩放进入）

2. **数字滚动动画**
   - 使用GSAP的 `gsap.to()`
   - 适用于板块1的数据展示

3. **时间轴动画**
   - 使用GSAP Timeline
   - 串联多个动画，控制时序

#### 触发机制
- **方式1**：组件挂载时（onMounted）
- **方式2**：元素进入视口时（Intersection Observer）

#### 代码示例
```typescript
// 组件内使用
onMounted(() => {
  const tl = createTimeline()
  tl.add(fadeIn('.title', { duration: 1 }))
    .add(fadeInUp('.content', { duration: 0.8 }), '-=0.5')
})

// 或使用 Intersection Observer
useIntersection(sectionRef, () => {
  fadeInUp('.card', { duration: 0.6 })
})
```

### 4.3 响应式布局

#### 移动端适配策略
1. **视口设置**
   ```html
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
   ```

2. **样式适配**
   - 使用百分比、vw/vh单位
   - CSS Grid自动布局
   - `@media` 查询

3. **触摸优化**
   - Swiper自动适配触摸事件
   - 禁止用户缩放

### 4.4 性能优化

#### 图片懒加载
- 仅当前页面加载图片
- Swiper内置懒加载支持

#### 路由懒加载
```typescript
const router = createRouter({
  routes: [
    {
      path: '/',
      component: () => import('@/views/HomeView.vue') // 懒加载
    }
  ]
})
```

#### 动画性能
- 使用GSAP（GPU加速）
- 避免频繁触发动画
- `will-change` CSS属性

## 五、板块功能详解

### 板块1：山海新城，产业高地
**视觉效果**：
- 全屏航拍图背景
- 毛玻璃质感数据卡片
- 数字滚动动画
- 下滑提示动画

**技术亮点**：
- GSAP数字滚动
- backdrop-filter毛玻璃效果
- CSS动画bounce

### 板块2：深汕速度，跨越发展
**视觉效果**：
- 垂直时间轴
- 渐变连接线
- 成就数据展示

**技术亮点**：
- 时间轴CSS布局
- GSAP Timeline串联动画

### 板块3：深汕智造，通达全球
**视觉效果**：
- 深色背景
- 功能卡片网格
- 世界地图动画

**技术亮点**：
- Grid响应式布局
- 卡片hover效果
- CSS脉冲动画

### 板块4：深圳品质，宜居宜业
**视觉效果**：
- 暖色调背景
- 四大类卡片展示
- 图标+列表布局

**技术亮点**：
- Emoji图标
- 列表伪元素美化
- 渐变按钮

### 板块5：以城带乡，振兴共富
**视觉效果**：
- 绿色渐变背景
- 成就数字卡片
- 基础设施列表
- 文化展示区

**技术亮点**：
- 数字突出显示
- 网格自适应布局

### 板块6：新起点，再出发
**视觉效果**：
- 深色渐变背景
- 编号目标列表
- 日出图标动画
- Logo和Slogan

**技术亮点**：
- 径向渐变背景
- 日出CSS动画
- 列表hover滑动效果

### 采访板块：他们说
**视觉效果**：
- 粉色渐变背景
- 人物卡片展示
- 引号装饰

**技术亮点**：
- 头像占位符生成
- 卡片阴影hover效果

## 六、样式系统

### 6.1 SCSS变量管理
```scss
// variables.scss
$primary-color: #1e40af;      // 主色
$secondary-color: #dc2626;    // 副色
$text-dark: #1f2937;          // 深色文字
$text-light: #ffffff;         // 浅色文字

$transition-fast: 0.3s;       // 快速动画
$transition-normal: 0.6s;     // 正常动画
```

### 6.2 动画库
- 预定义fadeInUp、fadeIn、scaleIn等动画
- 统一动画时长和缓动函数

### 6.3 全局样式
- CSS Reset
- 字体平滑
- 滚动条美化

## 七、部署方案

### 7.1 构建配置
```typescript
// vite.config.ts
export default defineConfig({
  base: '/',                    // 根路径
  build: {
    outDir: 'dist',
    assetsDir: 'assets',
    sourcemap: false,           // 生产环境关闭sourcemap
  }
})
```

### 7.2 推荐部署平台
1. **Vercel**（推荐）
   - 零配置部署
   - 自动HTTPS
   - CDN加速

2. **Netlify**
   - Git集成
   - 持续部署

3. **阿里云OSS**
   - 国内访问快
   - 成本低

### 7.3 部署流程
```bash
# 1. 构建
npm run build

# 2. 测试
npm run preview

# 3. 部署
# 方式A：Vercel CLI
vercel --prod

# 方式B：手动上传
# 将 dist 目录上传到服务器
```

## 八、浏览器兼容性

### 目标浏览器
- Chrome 90+
- Safari 14+
- iOS Safari 14+
- Android Chrome 90+
- 微信内置浏览器

### Polyfill策略
- Vite自动注入必要的polyfill
- 使用现代浏览器特性（ES6+）

### 测试建议
- 真机测试iOS和Android
- 测试微信/QQ浏览器
- 检查横屏表现

## 九、维护建议

### 后期基本不维护的设计
1. **数据写死在代码中**
   - 无外部API依赖
   - 减少维护成本

2. **纯静态部署**
   - 无需服务器
   - 无需数据库

3. **版本锁定**
   - package.json锁定依赖版本
   - 避免自动更新导致问题

### 如需更新内容
1. 修改对应 `.vue` 文件的数据
2. 替换图片资源
3. 重新构建部署

## 十、性能指标

### 目标指标
- 首屏加载：< 2s
- 动画流畅度：60fps
- 页面切换：< 1s
- 打包体积：< 500KB（不含图片）

### 优化措施
- 图片压缩（WebP格式）
- 代码分割（路由懒加载）
- GZIP压缩
- CDN加速

## 十一、开发规范

### 命名规范
- 组件：PascalCase（如 `InterviewCard.vue`）
- 文件夹：kebab-case（如 `use-animation.ts`）
- 变量：camelCase（如 `sectionRef`）

### 代码风格
- 使用 `<script setup>` 语法
- TypeScript严格模式
- SCSS模块化

### 注释规范
- 关键逻辑添加注释
- 复杂动画说明原理

## 十二、总结

本项目采用现代化的前端技术栈，完全满足需求文档的所有要求：

✅ Vue3 + TypeScript + Vite
✅ 竖屏全屏滑动（Swiper）
✅ 大量动画效果（GSAP）
✅ 六个核心板块 + 采访板块
✅ 响应式移动端适配
✅ 纯前端无需后端
✅ 后期基本无需维护

**核心优势**：
- 性能优异（60fps流畅动画）
- 代码结构清晰（易于修改）
- 部署简单（静态托管）
- 开发效率高（Vite + Vue3）

**下一步工作**：
1. 替换所有占位图片为真实素材
2. 根据实际内容调整文案
3. 真机测试各种屏幕尺寸
4. 部署上线
